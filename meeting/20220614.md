# 2022/6/14 會議討論
參與人員：Allen, Hazel, Jim, Jimbo
會議時間：2022/6/14 20:00-21:00


## 可完善的功能
提議基本功能已完成，有三個方向可以繼續完善整個 Dapp

1. 像幣安慈善一樣，智能合約新增 donateList 贊助人清單
  - 介面可以顯示贊助者的資訊，像是 Name, Donate日期, Message
  - 但怕合約Gas Fee會太高，存太多東西

2. 分階段性募款
可設定 2 個階段，當第 1 階段達成目標，即可提領 50% 的錢？

缺點：
- 會大改寫智能合約部分
- UI介面也要大改，像是提款介面變成提款者不可決定自己要提款金額是多少

3. 退款機制
建立新提案時需設定集資截止日期，若超過這個時間，必須要退款給Donate者

## Bug討論
同一個錢包地址 donate 2次，贊助人數會增加，同意提款的人數也會增加，等於說是累加的。

# 修改 UI
- 移除同意人數
- 資金使用情況改名成 「提款歷程」
- 累積贊助次數

# 自動退款
建立子合約，呼叫constructor 

多新增參數：募資截止日期 timestamp

假設設定在 1個月後，
當建立子合約

block.timestamp(現在時間) > 募資截止日期 && 狀態未完成 complete: false
執行退款

- 紀錄 donate 的人錢包，才可以退款
- 

- 存 web2 db，
- chain link 預言機註冊
- 用 web2 後台，讓項目方出錢

## 自動退款
# 募資失敗，讓用戶觸發點擊「退款按鈕」主動呼叫合約
  - 讓用戶自己來點擊提領按鈕，判斷 timestamp 與 募資截止日期
  - 按鈕顯示條件：募資截止日期 js 判斷 && 募資失敗 狀態沒完成，顯示那顆退款按鈕
  
  ## 合約新增 募資截止日期
    - 新增變數 uint256 募資截止日期
    - 新增變數 mapping address => uint256 贊助金額
    - getProposalSummary 吐回募資截止日期 
    - 退款的 function
      - require(block.timestamp > 募資截止日期)
      - 判斷此錢包有沒有donate，有的話轉錢給這個用戶
  ## UI
    - [Hazel] [ok] 新增募資截止日期 datetime picker
    - 「Hazel] 卡片 css 顯示募資失敗的狀態
    - [Jimbo] 判斷「退款」按鈕顯示時機：與合約要募資截止日期
    - [Jimbo] 串退款智能合約

  ## 待討論
    贊助列表


## 更改白皮書
### ROADMAP 2.0
- 分階段式募資，達成第一階段 50%金額後可領第一階段
- 支持多鏈 BNB、BSC、AVAX、CRO（查一下列出實際有哪些鏈）
- 等使用者達到 x 萬後
  - 開始酌收平台手續費，募資金額的 0.5%
  - 賺取廣告收益，開始找廣告商置入廣告在網站上，提高曝光度


### 專案特色
- 不僅接受 ETH 贊助，還可跨鏈

### 為什麼想做這個題目？
- 解決捐款不透明問題
- 避免項目方一領到錢就跑路，完成階段性任務才可申請提領金額，經50%以上的贊助人數同意後才可提領
- 國際捐款來說，不需跨行轉帳，交易成本低，快速且立馬到帳
- 金流可追溯

### 團隊分工
串接Dapp -> 串接智能合約
